
[build]
  command = "npm install --legacy-peer-deps && npm run netlify:build"
  publish = "dist"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
  force = true

[build.environment]
  NODE_VERSION = "18"
  # These variables will be replaced by Netlify's environment variables
  # Make sure to set these in your Netlify dashboard with proper values
  # The values should be properly formatted (Convex URL should be a valid URL, Clerk key should start with pk_)
  EXPO_PUBLIC_CONVEX_URL = "${EXPO_PUBLIC_CONVEX_URL}"
  EXPO_PUBLIC_CLERK_PUBLISHABLE_KEY = "${EXPO_PUBLIC_CLERK_PUBLISHABLE_KEY}"
  EXPO_PUBLIC_PAYMONGO_SECRET_KEY = "${EXPO_PUBLIC_PAYMONGO_SECRET_KEY}"

[[headers]]
  for = "/*"
    [headers.values]
    X-Frame-Options = "DENY"
    X-XSS-Protection = "1; mode=block"
